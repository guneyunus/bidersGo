@{
    Layout = "";
}

<!DOCTYPE html>
<html>
<head>
    <title>Examples. Click coordinates</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--
    Set your own API-key. Testing key is not valid for other web-sites and services.
    Get your API-key on the Developer Dashboard: https://developer.tech.yandex.ru/keys/

    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://api-maps.yandex.ru/2.1/?lang=en_RU&amp;apikey=<6b322a3d-4638-4662-ad07-cbb0e151cf87>" type="text/javascript"></script>
    <script src="map.js" type="text/javascript"></script>
    <style>
        html, body, #map {
            width: 85%; height: 100%; padding: 0; margin: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
<br>
<br>
<br>
<div id="yonlendirme">
    <a id="mapKordinat" href="">Google Üzerinden yol tarifi almak için tıklayınız.</a>
</div>
</body>
<script type="text/javascript">
    ymaps.ready(init);
    var myMap;

    var cordOne = null;
    var cordTwo = null;

    function init () {
        myMap = new ymaps.Map("map", {
            center: [41.0441, 29.0067], // Uglich
            zoom: 11
        }, {
            balloonMaxWidth: 200,
            searchControlProvider: 'yandex#search'
        });

        /**
         * Processing events that occur when the user
         * left-clicks anywhere on the map.
         * When such an event occurs, we open the balloon.
         */
        myMap.events.add('click', function (e) {
            if (!myMap.balloon.isOpen()) {
                var coords = e.get('coords');
                myMap.balloon.open(coords, {
                    contentHeader:'Event!',
                    contentBody:'<p>Someone clicked on the map.</p>' +
                        '<p>Click coordinates: ' + [
                            coords[0].toPrecision(6),
                            coords[1].toPrecision(6)
                        ].join(', ') + '</p>',
                    contentFooter:'<sup>Click again</sup>'
                });
                cordOne = coords[0].toPrecision(6);
                cordTwo = coords[1].toPrecision(6);
                $("#mapKordinat").attr("href","http://maps.google.com/maps?&z=15&mrt=yp&t=k&q="+cordOne+"+"+ cordTwo);
            }
            else {
                myMap.balloon.close();
            }
        });

        /**
         * Processing events that occur when the user
         * right-clicks anywhere on the map.
         * When such an event occurs, we display a popup hint
         * at the point of click.
         */
        myMap.events.add('contextmenu', function (e) {
            myMap.hint.open(e.get('coords'), 'Someone right-clicked');
        });
    
        // Hiding the hint when opening the balloon.
        myMap.events.add('balloonopen', function (e) {
            myMap.hint.close();
        });
    }

</script>
</html>
